{% extends '../layout/base.html' %}
{% load static %}
{% block head %}
{% load convert_markdown %}
<style>
    body {
        padding: 0;
        margin: 0;
        background-color: rgb(73, 72, 72);
        animation: body 1.25s linear;
      }
      @keyframes body {
        to {
          background-color: rgb(116, 123, 130);
        }
      }
      .header-options {
        cursor: pointer;
      }
      .progress {
        height: 3px;
        width: 0%;
        background-color: #fff;
        position: fixed;
        top: 0;
        left: 0;
        animation: progress 0.6s linear;
      }
      @keyframes progress {
        to {
          background-color: rgb(122, 140, 125);
          width: 100%;
        }
      }
      #header-container {
            background-image: url(/static/image/tech01.jpg); 
            background-size: cover;
            color: white;
        }
        #content {
            background-color: white;
            color: black;
            border-radius: 10px;
        }
        .card {
            background-color: rgb(245, 243, 243);
        }
    </style>
<title>
    Posts
</title>
{% endblock %}
{% block content %}
<div id="header-container" class="d-flex justify-content-between">
    <section id="header-section" class="container">
        <div class="text-info">
            <p class="h4">Top blogs</p>
            <p class="h1">Over 36+ posts</p>
        </div>     
    </section>
    <div class="mt-4 mx-2">
        <a class="btn btn-sm btn-primary float-right" href="{% url 'blog:post-create' %}"><li class="fa fa-fw fa-plus"></li> Add</a>
    </div>
</div>
{% if not request.user.is_authenticated %}
    <div class="d-flex">
        <marquee class="py-0" behavior="" direction="right">
            <sup class="text-muted">Join blogit, a community with over 400 users</sup>
    </marquee>

    <marquee class="py-0" behavior="" direction="right">
        <sup class="text-muted">Join blogit, a community with over 400 users</sup>
    </marquee>
</div>
{% else %}
<br><br>
{% endif %}
<div class=" container ml-2 py-3 my-2 mt-1" style="position:sticky;" id="content">
    <div
    style="margin-top: -2em;"
    >    
        <marquee 
        behavior="scroll" 
        direction="center"
        class="text-white text-dark"
        >
        <p class="text-info">
            ........................................................................................
        </p>
    </marquee>
    </div>
    <div class="row">
        {% for post in posts %}
        <div class="col-md-6 col-12 col-sm-12 col-lg-4 gap-">
            <figure class="card">
                    <img nopin="nopin" src="{% static 'image/medication.jpg' %}" alt="">
                    <div class="card-header h3 text-center">
                        {{post.category.name}}
                    </div>
                    <div class="card-body border-bottom pb-2">
                        <div class="d-flex justify-content-between align-content-center border-bottom pb-1">
                            <sup class="text-muted header-options">
                                <li class="fa fa-fw fa-archive"></li> save
                            </sup>
                            <sup class="text-muted header-options">
                                <li class="fa fa-fw fa-thumbs-up"></li> like
                            </sup>
                            <sup class="text-muted header-options">
                                <li class="fa fa-fw fa-thumbs-down"></li> dislike
                            </sup>
                            <sup class="text-muted header-options">
                                <li class="fa fa-fw fa-comment"></li> comment
                            </sup>
                        </div>
                        <p class="h5 text-muted pt-4">
                            {{post.body|truncatechars:80}}
                        </p>
                    </div>
                    <p class="text-center">
                        <a id="{{post.pk}}" href="{% url 'blog:post-view' title=post.title pk=post.pk %}">Read more &plus;</a>
                    </p>
                </figure>
            </div>
        {% endfor %}
        <div class="col-md-6 col-12 col-sm-12 col-lg-4">
            <figure class="btn btn-outline-success card h-75 d-flex justify-content-center align-content-center">
                <p class="text-muted h2 text-center">
                    <div>
                        <li class="fa fa-fw fa-plus"></li> Add
                    </div>
                </p>
            </figure>            
        </div>
    </div>
</div>
{% endblock %}
